<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test web components</title>
  <script defer>
    loadScript = url => new Promise((res, rej) => {
      const s = document.createElement('script');
      s.onload = res;
      s.onerror = rej;
      s.src = url;
      document.head.appendChild(s);
    });
    supportsCustomElements = () => new Promise((res, rej) => {
      if (window.customElements) {
        res();
      } else {
        rej();
      }
    });
  </script>
  <script defer>
    loadScript(`//${location.hostname}:35729/livereload.js?snipver=1`);
  </script>
  <script defer>
    supportsCustomElements()
      // if doesn't support, add polyfill
      .catch(() => loadScript(
        '/node_modules/skatejs-web-components/dist/index-with-deps.js'
      ))
      .then(() => loadScript('/node_modules/data-loader/dist/index.js'))
      .then(() => loadScript('/dist/index.js'));
  </script>
</head>
<body>
  <div>
    Small, hardcoded:
    <interpro-type type="family"></interpro-type>
    <interpro-type type="domain"></interpro-type>
    <interpro-type type="repeat"></interpro-type>
    <interpro-type type="site"></interpro-type>
    <interpro-type type="active site"></interpro-type>
    <interpro-type type="binding site"></interpro-type>
    <interpro-type type="conserved site"></interpro-type>
    <interpro-type type="ptm"></interpro-type>
    <interpro-type type="undefined"></interpro-type>
  </div>
  <div>
    Expanded, hardcoded:
    <interpro-type type="family" expanded></interpro-type>
    <interpro-type type="domain" expanded></interpro-type>
    <interpro-type type="repeat" expanded></interpro-type>
    <interpro-type type="site" expanded></interpro-type>
    <interpro-type type="active site" expanded></interpro-type>
    <interpro-type type="binding site" expanded></interpro-type>
    <interpro-type type="conserved site" expanded></interpro-type>
    <interpro-type type="ptm" expanded></interpro-type>
    <interpro-type type="undefined" expanded></interpro-type>
  </div>
  <div>
    Small, from network:
    <interpro-type>
      <data-loader>
        <source
            src="http://wwwdev.ebi.ac.uk/interpro7/api/entry/interpro/IPR011528"
        >
      </data-loader>
    </interpro-type>
  </div>
  <div>
    Expanded, from network:
    <interpro-type expanded>
      <data-loader>
        <source
            src="http://wwwdev.ebi.ac.uk/interpro7/api/entry/interpro/IPR011528"
        >
      </data-loader>
    </interpro-type>
  </div>
</body>
</html>
